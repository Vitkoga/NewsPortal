{% extends 'flatpages/default.html' %}

{% load custom_filters %}

{% block title %}
Post
{% endblock title %}

{% block content %}
    <h1>Поиск новостей</h1>

    <form action="" method="get">
        {{ filterset.form.as_p }}
    <input type="submit" value="Найти" />
    </form>

    <table>

       <tr>
           <td>Заголовок</td>
           <td>Дата публикации</td>
           <td>Текст статьи</td>
       </tr>

       {% for post in posts %}
       <tr>
           <td>{{ post.title|censor }}</td>
           <td>{{ post.date_in|date:'M d Y' }}</td>
           <td>{{ post.text|truncatechars:20|censor }}</td>
       </tr>
       {% endfor %}

    </table>

{% endblock content %}